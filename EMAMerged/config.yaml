# === EMAMerged/config.yaml ===

# SESSION / DATA
timezone: "US/Eastern"
rth_only: true
rth_start: "09:30"
rth_end:   "15:55"

run:
  force_run: 0
  dry_run: 0
  
# Live cadence
timeframe: "15Min"
history_days: 30
bar_limit: 10000
feed: "iex"

# Risky behaviors mitigations
flatten_minutes_before_close: 5     # A: force flatten positions this many minutes before close
entry_cutoff_min: 20                # A: block NEW entries within last N minutes

# POSITION / RISK
allow_shorts: false
qty: 1
max_notional_per_trade: 2000

# BRACKET ORDERS
brackets:
  enabled: true
  atr_mult_sl: 1.0            # stop distance = 1.0 * ATR
  take_profit_r: 1.2          # TP at +1.2R

# Optional: breakeven bump (single move to BE+ticks at +0.5R)
breakeven:
  enabled: true
  trigger_r: 0.5              # trigger when â‰¥ 0.5R
  bump_ticks: 2               # move stop to entry + 2 ticks
  tick_size: 0.01             # $0.01/tick

# FILTERS (NEW: ADX threshold lives here)
filters:
  adx_threshold: 22.0         # <-- change this to tune the ADX gate (e.g., 22.0 or 28.0)
  # rsi_min: null
  # rsi_max: null
  # slope_threshold_pct: null
  # min_price: null
  # min_dollar_vol: null
  # dollar_vol_window: 20
  # mtf_bias:
  #   enabled: false

# OUTPUT
results_dir: "results"

broker:
  base_url: "https://paper-api.alpaca.markets"
  key: "PK5D0P6J7VQ66PNCOY3E"
  secret: "jGs61lhYDGYthVh0K45aJvRK8x7SnseGpNvDO3zg"

# Tickers file still used by market_loop unless SYMBOLS override
